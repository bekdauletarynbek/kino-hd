(function(t){function e(e){for(var a,i,o=e[0],c=e[1],u=e[2],d=0,m=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(m.length)m.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},s=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/kino-hd/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0695":function(t,e,n){},"1ed9":function(t,e,n){"use strict";n("42e4")},"42e4":function(t,e,n){},"44ada":function(t,e,n){"use strict";n("eb1a")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app relative"}},[t.showModal?n("login",{staticClass:"fixed top-1/3 right-1/3 left-1/3",staticStyle:{"z-index":"100"},on:{close:function(e){return t.selectModal()}}},[t._v("222")]):t._e(),n("div",{attrs:{id:"w-full relative"}},[n("navbar",{staticClass:"fixed top-0 z-40",attrs:{"bg-color":t.color},on:{"select-modal":function(e){return t.selectModal()}}})],1),n("router-view")],1)},s=[],i=n("1da1"),o=(n("96cf"),n("d3b7"),n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-white px-4 py-12 rounded shadow-md"},[n("h2",{staticClass:"text-gray-600 text-xl"},[t._v(t._s(t.getUser?"Добро пожаловать "+t.getUser.name:"Войти"))]),n("div",{staticClass:"flex flex-col mt-4"},[t.getUser?n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",placeholder:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}):t._e(),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"my-4",attrs:{type:"text",placeholder:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t.getUser?n("input",{directives:[{name:"model",rawName:"v-model",value:t.oldPassword,expression:"oldPassword"}],attrs:{type:"text",placeholder:"Старый пароль"},domProps:{value:t.oldPassword},on:{input:function(e){e.target.composing||(t.oldPassword=e.target.value)}}}):t._e(),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"text",placeholder:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("div",{staticClass:"flex mt-4  text-gray-100"},[t.getUser?n("div",[n("button",{staticClass:"bg-button-play px-4 py-2 text-sm rounded",on:{click:function(e){t.update(),t.close()}}},[t._v("Обновить")]),n("button",{staticClass:"bg-button-play ml-4 px-4 py-2 text-sm rounded",on:{click:function(e){t.logout(),t.close()}}},[t._v("Выйти")])]):n("button",{staticClass:"mt-4 bg-button-play px-4 py-2 text-sm rounded",on:{click:function(e){t.login(),t.close()}}},[t._v("Войти")]),n("button",{staticClass:"ml-4 bg-button-play px-4 py-2 text-sm rounded",on:{click:function(e){return t.close()}}},[t._v("Отмена")])])])}),c=[],u=n("bc3a"),l=n.n(u),d={name:"login",data:function(){return{email:"",password:"",oldPassword:""}},mounted:function(){this.getUser&&(this.email=this.getUser.email,this.name=this.getUser.name)},computed:{getUser:function(){return this.$store.state.auth.user}},methods:{login:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("auth/AUTH_REQUEST",{email:t.email,password:t.password}).then((function(e){t.$store.dispatch("user/GET_WATCHLIST",e.data),t.$router.go(0)}));case 2:case"end":return e.stop()}}),e)})))()},logout:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("auth/LOGOUT").then((function(){t.$router.go(0)}));case 2:case"end":return e.stop()}}),e)})))()},update:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.dispatch("auth/UPDATE",{name:t.name,email:t.email,password:t.password,oldPassword:t.oldPassword,gender:t.getUser.gender});case 2:n=e.sent,a=n.data,console.log(a);case 5:case"end":return e.stop()}}),e)})))()},close:function(){this.$emit("close")},getPosts:function(){return Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.a.get("http://localhost:3000/api/v1/posts");case 2:e=t.sent,n=e.data,console.log(n);case 5:case"end":return t.stop()}}),t)})))()}}},m=d,p=(n("a79b"),n("2877")),v=Object(p["a"])(m,o,c,!1,null,"0a73eb42",null),g=v.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-full items-center flex justify-between px-16 transition duration 2000",class:t.bgColor},[n("svg",{staticClass:"Header__logo-icon--mH_yi",attrs:{"data-tid":"be53a399",fill:"#FFF",height:"36px",version:"1.1",viewBox:"0 0 203 36",width:"203px",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[n("path",{attrs:{"clip-rule":"evenodd",d:"M7.8498 20.2286H6.408V28.025H0V8H6.408V15.2891H7.9833L11.5077 8H18.0225L13.4835 17.3717L18.7167 28.025H11.6679L7.8498 20.2286ZM29.7171 20.7092H29.3433L25.2849 24.2603V28.025H19.1439V12.005H25.2849V18.0392H25.8189L29.7171 14.6216V12.005H35.8581V28.025H29.7171V20.7092ZM48.3003 22.3646H44.1351V28.025H37.9941V12.005H44.1351V17.4518H48.3003V12.005H54.4413V28.025H48.3003V22.3646ZM64.5873 11.7113C65.6909 11.7113 66.7144 11.8804 67.6578 12.2186C68.6012 12.5568 69.4156 13.073 70.1009 13.7672C70.7862 14.4614 71.3246 15.3291 71.7162 16.3705C72.1078 17.4118 72.3036 18.6266 72.3036 20.015C72.3036 21.4212 72.1078 22.6449 71.7162 23.6863C71.3246 24.7276 70.7862 25.5908 70.1009 26.2761C69.4156 26.9615 68.6057 27.4732 67.6712 27.8114C66.7366 28.1496 65.7265 28.3187 64.6407 28.3187H63.813C62.6738 28.3187 61.6236 28.1496 60.6624 27.8114C59.7012 27.4732 58.8735 26.9615 58.1793 26.2761C57.4851 25.5908 56.9422 24.7276 56.5506 23.6863C56.159 22.6449 55.9632 21.4212 55.9632 20.015C55.9632 18.6266 56.159 17.4118 56.5506 16.3705C56.9422 15.3291 57.4807 14.4614 58.166 13.7672C58.8513 13.073 59.6656 12.5568 60.609 12.2186C61.5524 11.8804 62.5848 11.7113 63.7062 11.7113H64.5873ZM64.2402 23.1923C64.9166 23.1923 65.464 22.9209 65.8822 22.378C66.3006 21.835 66.5097 21.0474 66.5097 20.015C66.5097 18.9826 66.3006 18.195 65.8822 17.6521C65.464 17.1091 64.9166 16.8377 64.2402 16.8377H64.0266C63.3146 16.8377 62.7539 17.1091 62.3445 17.6521C61.9351 18.195 61.7304 18.9826 61.7304 20.015C61.7304 21.0474 61.9351 21.835 62.3445 22.378C62.7539 22.9209 63.3146 23.1923 64.0266 23.1923H64.2402ZM73.5585 8H90.6465V28.025H84.2385V13.2065H79.9665V28.025H73.5585V8ZM100.525 11.7113C101.629 11.7113 102.653 11.8804 103.596 12.2186C104.539 12.5568 105.354 13.073 106.039 13.7672C106.724 14.4614 107.263 15.3291 107.654 16.3705C108.046 17.4118 108.242 18.6266 108.242 20.015C108.242 21.4212 108.046 22.6449 107.654 23.6863C107.263 24.7276 106.724 25.5908 106.039 26.2761C105.354 26.9615 104.544 27.4732 103.609 27.8114C102.675 28.1496 101.665 28.3187 100.579 28.3187H99.7512C98.612 28.3187 97.5618 28.1496 96.6006 27.8114C95.6394 27.4732 94.8117 26.9615 94.1175 26.2761C93.4233 25.5908 92.8804 24.7276 92.4888 23.6863C92.0972 22.6449 91.9014 21.4212 91.9014 20.015C91.9014 18.6266 92.0972 17.4118 92.4888 16.3705C92.8804 15.3291 93.4188 14.4614 94.1041 13.7672C94.7895 13.073 95.6038 12.5568 96.5472 12.2186C97.4906 11.8804 98.523 11.7113 99.6444 11.7113H100.525ZM100.178 23.1923C100.855 23.1923 101.402 22.9209 101.82 22.378C102.239 21.835 102.448 21.0474 102.448 20.015C102.448 18.9826 102.239 18.195 101.82 17.6521C101.402 17.1091 100.855 16.8377 100.178 16.8377H99.9648C99.2528 16.8377 98.6921 17.1091 98.2827 17.6521C97.8733 18.195 97.6686 18.9826 97.6686 20.015C97.6686 21.0474 97.8733 21.835 98.2827 22.378C98.6921 22.9209 99.2528 23.1923 99.9648 23.1923H100.178ZM120.337 20.7092H119.963L115.905 24.2603V28.025H109.764V12.005H115.905V18.0392H116.439L120.337 14.6216V12.005H126.478V28.025H120.337V20.7092ZM144.447 20.8427C144.394 22.1599 144.162 23.2902 143.753 24.2336C143.343 25.177 142.801 25.9557 142.124 26.5699C141.448 27.184 140.656 27.6334 139.748 27.9182C138.84 28.203 137.852 28.3454 136.784 28.3454H135.956C134.817 28.3454 133.763 28.1719 132.792 27.8248C131.822 27.4776 130.986 26.957 130.283 26.2628C129.58 25.5686 129.032 24.7009 128.641 23.6596C128.249 22.6182 128.062 21.4034 128.08 20.015C128.098 18.6266 128.302 17.4118 128.694 16.3705C129.086 15.3291 129.624 14.4614 130.309 13.7672C130.995 13.073 131.809 12.5524 132.752 12.2053C133.696 11.8581 134.728 11.6846 135.85 11.6846H136.731C137.781 11.6846 138.764 11.8314 139.681 12.1252C140.598 12.4189 141.399 12.8683 142.084 13.4735C142.769 14.0787 143.321 14.8307 143.739 15.7297C144.158 16.6286 144.394 17.6743 144.447 18.8669H138.6C138.511 18.1905 138.266 17.6832 137.865 17.345C137.465 17.0068 136.971 16.8377 136.384 16.8377H136.143C135.449 16.8377 134.897 17.1091 134.488 17.6521C134.079 18.195 133.874 18.9826 133.874 20.015C133.874 21.0474 134.079 21.835 134.488 22.378C134.897 22.9209 135.449 23.1923 136.143 23.1923H136.384C137.007 23.1923 137.523 22.9921 137.932 22.5916C138.342 22.191 138.573 21.6081 138.626 20.8427H144.447ZM153.178 21.9908H152.057V28.025H145.915V12.005H152.057V17.612H153.205L156.302 12.005H162.683L158.571 19.4543L163.484 28.025H156.649L153.178 21.9908Z",fill:"white","fill-rule":"evenodd"}}),n("path",{attrs:{"clip-rule":"evenodd",d:"M186.855 4.13512C196.049 3.13198 203 7.81328 203 14.891C203 22.4981 196.603 29.7152 184.695 32L188.711 11.4079L192.975 12.1602L190.317 25.8977C194.775 24.0864 198.181 20.1574 198.237 15.5876C198.32 9.98674 192.671 7.78541 185.969 8.70497L186.855 4.13512ZM180.12 15.9498H175.656L177.191 8.03621L172.954 7.22813L171.253 15.9498H167V19.9624H170.47L169.188 26.5385L173.452 27.3187L174.879 19.9624H179.338L177.246 30.6903L181.539 31.4427L185.554 10.8505L181.261 10.0982L180.12 15.9498Z",fill:"#FF6600","fill-rule":"evenodd"}})]),n("div",{staticClass:"list py-5 flex items-center relative"},[n("nav-item",{attrs:{link:"Home",text:"Мое кино"}}),n("nav-item",{attrs:{link:"List",text:"Буду смотреть"}}),n("div",{class:t.show?"absolute":""},[t.show?t._e():n("svg",{staticClass:"HeaderContent__icon--39VdR SearchButton__search-icon--2cYx5 ml-5",attrs:{"data-tid":"12e1b679",height:"1.5rem",version:"1.1",viewBox:"0 0 24 24",width:"1.5rem",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},on:{click:function(e){t.show=!0}}},[n("path",{attrs:{"clip-rule":"evenodd",d:"M3 10C3 13.866 6.13401 17 10 17C11.5653 17 13.0106 16.4862 14.1764 15.6181L19.5583 21L21 19.5583L15.6181 14.1764C16.4862 13.0106 17 11.5653 17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10ZM15 10C15 12.7614 12.7614 15 10 15C7.23858 15 5 12.7614 5 10C5 7.23858 7.23858 5 10 5C12.7614 5 15 7.23858 15 10Z",fill:"#9ca3af","fill-rule":"evenodd"}})]),t.show?n("div",{staticClass:"flex",attrs:{tabindex:"1"},on:{blur:function(e){t.show=!1}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"h-8 rounded p-2",staticStyle:{width:"32rem"},attrs:{type:"text"},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},function(e){return t.searchMulti()}]}}),n("svg",{staticClass:"ml-3 w-5 text-white fill-current white z-40",staticStyle:{"enable-background":"new 0 0 512.001 512.001"},attrs:{id:"Capa_1",version:"1.1",viewBox:"0 0 512.001 512.001",x:"0px","xml:space":"preserve",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",y:"0px"},on:{click:function(e){t.show=!1}}},[n("g",[n("g",[n("path",{attrs:{d:"M284.286,256.002L506.143,34.144c7.811-7.811,7.811-20.475,0-28.285c-7.811-7.81-20.475-7.811-28.285,0L256,227.717\n\t\t\tL34.143,5.859c-7.811-7.811-20.475-7.811-28.285,0c-7.81,7.811-7.811,20.475,0,28.285l221.857,221.857L5.858,477.859\n\t\t\tc-7.811,7.811-7.811,20.475,0,28.285c3.905,3.905,9.024,5.857,14.143,5.857c5.119,0,10.237-1.952,14.143-5.857L256,284.287\n\t\t\tl221.857,221.857c3.905,3.905,9.024,5.857,14.143,5.857s10.237-1.952,14.143-5.857c7.811-7.811,7.811-20.475,0-28.285\n\t\t\tL284.286,256.002z"}})])]),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g"),n("g")])]):t._e(),t.show?n("div",{staticClass:"w-24 h-72 bg-content-bg absolute py-4 px-4 rounded z-90",staticStyle:{width:"32rem","overflow-y":"scroll"},attrs:{tabindex:"1"},on:{blur:function(e){t.show=!1}}},[t.data?t._e():n("p",{staticClass:"pt-2 text-center text-gray-300 shadow-xl"},[t._v("Здесь пусто")]),t._l(t.data,(function(e){return n("router-link",{key:e.id,staticClass:"mb-5 flex",attrs:{to:{name:e.media_type,params:{id:e.id}}},nativeOn:{click:function(e){t.show=!1,t.$emit("select",0)}}},[n("img",{staticClass:"rounded w-20",attrs:{src:"https://image.tmdb.org/t/p/w200/"+e.poster_path,alt:""}}),n("div",{staticClass:"px-2"},[n("p",{staticClass:"text-gray-200"},[t._v(t._s(e.title||e.name))]),e.vote_average?n("span",{staticClass:"mt-4 text-sm",class:t.movieStatus(e.vote_average)},[t._v(t._s(e.vote_average.toFixed(1)))]):t._e()])])}))],2):t._e()])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:" py-1  px-2 rounded bg-white"},[n("button",{on:{click:function(e){return t.open()}}},[t._v(t._s(t.getUser?""+t.getUser.name:"Войти"))])])])},h=[],w=(n("99af"),n("ac1f"),n("841c"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{staticClass:"mx-5 text-lg font-semibold  border-b-2 hover:text-gray-300",class:t.$route.name===t.link?" text-gray-300 border-yellow-500":"text-gray-400 border-transparent",attrs:{to:{name:t.link}}},[t._v(" "+t._s(t.text)+" ")])}),b=[],x={name:"nav-item",props:{text:String,link:String}},_=x,y=Object(p["a"])(_,w,b,!1,null,"344f96e9",null),C=y.exports,k=l.a.create({baseURL:"https://api.themoviedb.org/3/"}),O=k,R="api_key=8c4cb0d160e5f86bb53f5119cc39fe01&language=ru-RU",$=R,T={name:"navbar",data:function(){return{search:null,show:!1,data:null,showModal:!1}},components:{navItem:C},props:{bgColor:String},watch:{},computed:{getUser:function(){return this.$store.state.auth.user}},methods:{searchMulti:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O.get("/search/multi?".concat($,"&query=").concat(t.search));case 2:n=e.sent,a=n.data,t.data=a.results;case 5:case"end":return e.stop()}}),e)})))()},movieStatus:function(t){var e="p-1 rounded text-gray-100";return t>=8?e+" bg-green-600":t>=6&&t<8?e+" bg-yellow-600":t>=5&&t<6?e+" bg-gray-600":t<5?e+" bg-red-600":void 0},open:function(){this.$emit("select-modal")}}},P=T,E=Object(p["a"])(P,f,h,!1,null,"2ff0aa02",null),j=E.exports,H={components:{navbar:j,login:g},data:function(){return{color:"transparent",showModal:!1}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return window.addEventListener("scroll",t.setColor),t.setColor(),l.a.interceptors.response.use(void 0,(function(t){return new Promise((function(){throw 401===t.status&&(this.$store.dispatch("auth/LOGOUT"),console.log("err")),t}))})),e.next=5,l()("http://localhost:3000/api/v1/auth/user");case 5:return n=e.sent,a=n.data,t.$store.commit("auth/SET_PROPERTY",{key:"user",value:a}),e.next=10,t.$store.dispatch("list/GET_WATCHLIST");case 10:console.log(t.$store.state.list.watchlist);case 11:case"end":return e.stop()}}),e)})))()},mounted:function(){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},destroyed:function(){window.removeEventListener("scroll",this.setColor)},computed:{isAuth:function(){return this.$store.getters["auth/isAuthentificated"]}},methods:{setColor:function(){if(window){var t=window.pageYOffset||document.documentElement.scrollTop;t<=50&&(this.color="bg-transparent "),(t>50||"Home"!==this.$route.name)&&(this.color="bg-header-bg")}},selectModal:function(){console.log(300),this.showModal=!this.showModal}}},S=H,L=(n("5c0b"),Object(p["a"])(S,r,s,!1,null,null,null)),M=L.exports,V=n("8c4f"),N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},["Home"===t.$route.name||t.slide?n("banner",{attrs:{id:t.getIdForBanner(),type:"Home"!==t.$route.name?t.$route.name:"movie"}}):n("router-view",{staticClass:"mt-16"}),t._l(t.list,(function(e,a){return n("div",{key:e.key},[n("slider",{attrs:{type:"movie",category:e.key,cls:e.value,id:a+1,request:"movies/getMovies"},on:{select:t.select}}),n("transition",{attrs:{name:"bottom-slide"}},[t.slide===a+1?n("router-view"):t._e()],1)],1)})),n("div",[n("genres"),n("search")],1),t._l(t.listTV,(function(e,a){return n("div",{key:e.key},[n("slider",{attrs:{type:"tv",category:e.key,cls:e.value,id:a+5,request:"tv/getTVs"},on:{select:t.select}}),n("transition",{attrs:{name:"bottom-slide"}},[t.slide===a+5?n("router-view"):t._e()],1)],1)})),n("collections")],2)},U=[],Y=(n("25f0"),n("1276"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"h-90v bg-gray-900 w-full relative  overflow-hidden"},[a("div",{staticClass:" h-90v bg-center bg-no-repeat bg-cover z-0 relative ",style:"background-image: url(https://image.tmdb.org/t/p/w1280"+t.movie.backdrop_path+")"},[t.video1&&t.isShow?a("div",[a("vue-youtube",{ref:"youtubes",staticClass:"absolute  -top-24 h-120v w-full ",attrs:{videoid:t.video1,autoplay:1,controls:1,rel:0,fs:0,loop:1,playlist:t.video1},on:{played:function(e){t.isShow=!0}}})],1):t._e()]),a("div",{staticClass:"absolute top-5 left-0 z-20 w-2/4 p-12"},[a("div",{},[a("img",{staticClass:"w-40 rounded",attrs:{src:"https://image.tmdb.org/t/p/w300"+t.movie.poster_path,alt:""}})])]),a("button",{staticClass:"bg-button-play absolute bottom-5 ml-12 text-white p-3 rounded items-center flex mt-3"},[a("img",{staticClass:"w-4 inline mr-2",attrs:{src:n("5830")}}),t._v("Смотреть фильм ")]),a("div",{staticClass:"absolute right-10 bottom-5 bg-gray-500 p-3 rounded-full w-12",on:{click:t.muteOrUnmute}},[t.mute?a("img",{attrs:{src:n("765c"),alt:""}}):a("img",{attrs:{src:n("8913"),alt:""}})])])}),I=[],A=(n("a9e3"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"player",attrs:{id:"youtube-vue-player-soma"}})}),z=[],D=n("0fe3"),G=n.n(D),Z={name:"YoutubeVue3",props:{width:{type:Number,default:480},height:{type:Number,default:320},autoplay:{type:Number,default:1,validator:function(t){return 0===Number(t)||1===Number(t)}},videoid:{type:String,required:!0},playlist:{type:String},controls:{type:Number,default:1,validator:function(t){return 0===Number(t)||1===Number(t)}},cc_load_policy:{type:Number,default:1,validator:function(t){return 0===Number(t)||1===Number(t)}},loop:{type:Number,default:1,validator:function(t){return 0===Number(t)||1===Number(t)}}},data:function(){return{ready:0}},mounted:function(){var t=this,e={autoplay:this.autoplay,loop:this.loop,controls:this.controls,playlist:this.playlist,cc_load_policy:this.cc_load_policy};console.log(this.$refs.player),this.player=G()("youtube-vue-player-soma",{host:"https://www.youtube.com",width:this.width,height:this.height,videoId:this.videoid,playerVars:e}),this.player.on("stateChange",(function(e){e.data===window.YT.PlayerState.ENDED?t.$emit("ended"):e.data===window.YT.PlayerState.PAUSED?t.$emit("paused"):e.data===window.YT.PlayerState.PLAYING&&t.$emit("played")}))},destroyed:function(){this.player.destroy(),delete this.player},watch:{videoid:function(){this.player.loadVideoById(this.videoid),this.player.playVideo()},list:function(){this.player.getPlaylist(this.list),this.player.playVideo()}}},B=Z,F=Object(p["a"])(B,A,z,!1,null,null,null),W=F.exports,q={methods:{movieStatus:function(t){var e="p-1 rounded text-gray-100";return t>=8?e+" bg-green-600":t>=6&&t<8?e+" bg-yellow-600":t>=5&&t<6?e+" bg-gray-600":t<5?e+" bg-red-600":void 0}}},J={name:"banner",mixins:[q],data:function(){return{movie:null,detailPage:0,video1:null,mute:!0,isShow:!1}},props:{id:Number,type:String},components:{VueYoutube:W},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O.get("/".concat(t.type,"/").concat(t.id,"?").concat($));case 2:return n=e.sent,a=n.data,console.log(a),t.movie=a,e.next=8,O.get("/".concat(t.type,"/").concat(t.id,"/videos?").concat($));case 8:r=e.sent,t.video1=r.data.results[0].key;case 10:case"end":return e.stop()}}),e)})))()},created:function(){window.addEventListener("scroll",this.setColor)},destroyed:function(){window.removeEventListener("scroll",this.setColor)},methods:{checkRun:function(t){return"".concat(Math.floor(t/60)," час ").concat(t%60," минут")},muteOrUnmute:function(){this.mute?this.$refs.youtubes.player.mute():this.$refs.youtubes.player.unMute(),this.mute=!this.mute},setColor:function(){var t=window.pageYOffset||document.documentElement.scrollTop;t<=50&&(this.isShow=!0),t>50&&(this.isShow=!1)}}},Q=J,K=(n("44ada"),Object(p["a"])(Q,Y,I,!1,null,"8258c3c4",null)),X=K.exports,tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"my-10"},[n("p",{staticClass:"text-left ml-5 pl-8 font-bold text-xl text-gray-50 my-3"},[t._v(t._s(t.cls))]),n("splide",{staticClass:"splide mx-5 px-8",attrs:{slides:t.data,options:t.options}},t._l(t.data,(function(e){return n("splide-slide",{key:e.id},["movie"===t.type?n("movie",{staticClass:"splide__slide1",attrs:{movie:e,id:t.id},nativeOn:{click:function(e){return t.select(t.id)}}}):n("tv",{staticClass:"splide__slide1",attrs:{tv:e,id:t.id},nativeOn:{click:function(e){return t.select(t.id)}}})],1)})),1)],1)},et=[],nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{staticClass:"relative",attrs:{to:{name:"movie",params:{id:t.movie.id+(t.id?"-"+t.id:"")}}}},[n("img",{staticClass:"rounded",attrs:{src:"https://image.tmdb.org/t/p/w200/"+t.movie.poster_path,alt:""}}),n("span",{staticClass:"absolute top-1 left-1 px-2 ",class:t.movieStatus(t.movie.vote_average)},[t._v(t._s(t.movie.vote_average.toFixed(1)))])])},at=[],rt={name:"movie",props:{movie:Object,id:Number},methods:{movieStatus:function(t){var e="p-1 rounded text-gray-100";return t>=8?e+" bg-green-600":t>=6&&t<8?e+" bg-yellow-600":t>=5&&t<6?e+" bg-gray-600":t<5?e+" bg-red-600":void 0}}},st=rt,it=Object(p["a"])(st,nt,at,!1,null,"0baef2b7",null),ot=it.exports,ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("router-link",{attrs:{to:{name:"tv",params:{id:t.tv.id+(t.id?"-"+t.id:"")}}}},[n("img",{staticClass:"rounded relative",attrs:{src:"https://image.tmdb.org/t/p/w200/"+t.tv.poster_path,alt:""}}),n("span",{staticClass:"absolute top-1 left-1 px-2 ",class:t.movieStatus(t.tv.vote_average)},[t._v(t._s(t.tv.vote_average.toFixed(1)))])])],1)},ut=[],lt={name:"movie",props:{tv:Object,id:Number},methods:{movieStatus:function(t){var e="p-1 rounded text-gray-100";return t>=8?e+" bg-green-600":t>=6&&t<8?e+" bg-yellow-600":t>=5&&t<6?e+" bg-gray-600":t<5?e+" bg-red-600":void 0}}},dt=lt,mt=Object(p["a"])(dt,ct,ut,!1,null,"64ec3662",null),pt=mt.exports,vt={name:"slider",data:function(){return{options:{rewind:!0,autoWidth:!0,perMove:2,gap:"1.1rem",pagination:!1},data:[]}},props:{cls:String,type:String,category:String,id:Number,request:String},components:{movie:ot,tv:pt},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("movie"!==t.type){e.next=4;break}return e.next=3,t.$store.dispatch(t.request,t.category);case 3:t.data=e.sent;case 4:if("tv"!==t.type){e.next=8;break}return e.next=7,t.$store.dispatch(t.request,t.category);case 7:t.data=e.sent;case 8:case"end":return e.stop()}}),e)})))()},methods:{select:function(t){console.log(t),this.$emit("select",this.id)}}},gt=vt,ft=(n("998b"),Object(p["a"])(gt,tt,et,!1,null,null,null)),ht=ft.exports,wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mx-5 px-8"},[n("p",{staticClass:"text-left ml-5 font-bold text-xl text-gray-50 my-3"},[t._v("Жанры фильмов")]),n("splide",{attrs:{slides:t.genres,options:t.options}},t._l(t.genres,(function(e,a){return n("splide-slide",{key:e.id},[n("router-link",{attrs:{to:{name:"category",params:{id:e.id+"-"+e.name}}}},[n("span",{staticClass:" py-14 text-2xl flex items-center justify-center rounded font-sans",style:{backgroundColor:t.randomColor()[a]}},[t._v(t._s(e.name))])])],1)})),1)],1)},bt=[],xt=(n("c740"),n("fd9b")),_t=n.n(xt),yt={name:"genres",data:function(){return{genres:null,options:{rewind:!0,perPage:5,gap:"1.1rem",pagination:!1}}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O.get("/genre/movie/list?".concat($));case 2:n=e.sent,a=n.data,console.log(a.genres),t.genres=a.genres,r=t.genres.findIndex((function(t){return"телевизионный фильм"===t.name})),t.genres[r].name="ТВ";case 8:case"end":return e.stop()}}),e)})))()},methods:{randomColor:function(){return _t()({luminosity:"light",count:this.genres.length})}}},Ct=yt,kt=Object(p["a"])(Ct,wt,bt,!1,null,"a3e9ff7e",null),Ot=kt.exports,Rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[t._v(" "+t._s(t.data)+" ")])},$t=[],Tt={name:"collections",data:function(){return{data:null}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O.get("collection/list?".concat($));case 2:n=e.sent,a=n.data,t.data=a;case 5:case"end":return e.stop()}}),e)})))()}},Pt=Tt,Et=Object(p["a"])(Pt,Rt,$t,!1,null,"b3c63c0c",null),jt=Et.exports,Ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),t._v(" "+t._s(t.data)+" ")])},St=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex"},[n("button",[t._v("Search")])])}],Lt={name:"seacrh",data:function(){return{search:null,focus:!1,data:null}},methods:{searchMulti:function(){var t=this;setInterval(Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=O.get("search/multi?".concat($),{query:t.search}),a=n.data,t.data=a;case 2:case"end":return e.stop()}}),e)}))),300)}}},Mt=Lt,Vt=Object(p["a"])(Mt,Ht,St,!1,null,"4bf189e8",null),Nt=Vt.exports,Ut={name:"index",data:function(){return{list:[{key:"now_playing",value:"Сейчас смотрят"},{key:"popular",value:"Популярное"},{key:"top_rated",value:"ТОП"},{key:"upcoming",value:"Набирают популярность"}],listTV:[{key:"popular",value:"Популярное"},{key:"top_rated",value:"ТОП"}],slide:null,params:null,id:null}},components:{banner:X,slider:ht,genres:Ot,collections:jt,search:Nt},watch:{$route:function(t,e){if(t!==e){var n=t.params.id.toString();n.split("-").length>1?this.slide=n.split("-")[1]:this.slide=0}}},computed:{},mounted:function(){this.$route.params.id&&(this.slide=+this.$route.params.id.split("-")[1]),console.log(this.$route)},methods:{getMovies:function(t){return console.log(this.$store.state.movies[t]),this.$store.state.movies[t]},select:function(t){console.log(t),this.slide=t},getIdForBanner:function(){return this.id=+this.$route.params.id||497698,this.id}},updated:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=["now_playing","popular","top_rated"],a=0,r=n;case 2:if(!(a<r.length)){e.next=9;break}return s=r[a],e.next=6,t.$store.dispatch("movies/getMovies",s);case 6:a++,e.next=2;break;case 9:case"end":return e.stop()}}),e)})))()}},Yt=Ut,It=(n("69ab"),Object(p["a"])(Yt,N,U,!1,null,"bd28d9ac",null)),At=It.exports,zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"relative  h-90v overflow-hidden z-0"},[a("div",{staticClass:" h-90v bg-right bg-no-repeat bg-contain z-0 relative  overflow-hidden",class:0!==t.detailPage?"filter blur-3xl brightness-50 transition duration 300":"",style:"background-image: url(https://image.tmdb.org/t/p/w1280"+t.movie.backdrop_path+")"},[t.video&&0===t.detailPage?a("youtube-vue",{ref:"youtube",staticClass:"absolute -right-10 -top-20 h-120v w-4/5 \tpointer-events-none",attrs:{videoid:t.video,autoplay:1,controls:0,rel:0,fs:0,loop:1,playlist:t.video}}):t._e()],1),a("svg",{staticClass:"absolute top-5 right-10 w-6 z-40",staticStyle:{"enable-background":"new 0 0 512.001 512.001"},attrs:{fill:"white",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512.001 512.001","xml:space":"preserve"},on:{click:function(e){return t.$router.push({name:"Home"})}}},[a("g",[a("g",[a("path",{attrs:{d:"M284.286,256.002L506.143,34.144c7.811-7.811,7.811-20.475,0-28.285c-7.811-7.81-20.475-7.811-28.285,0L256,227.717\n\t\t\tL34.143,5.859c-7.811-7.811-20.475-7.811-28.285,0c-7.81,7.811-7.811,20.475,0,28.285l221.857,221.857L5.858,477.859\n\t\t\tc-7.811,7.811-7.811,20.475,0,28.285c3.905,3.905,9.024,5.857,14.143,5.857c5.119,0,10.237-1.952,14.143-5.857L256,284.287\n\t\t\tl221.857,221.857c3.905,3.905,9.024,5.857,14.143,5.857s10.237-1.952,14.143-5.857c7.811-7.811,7.811-20.475,0-28.285\n\t\t\tL284.286,256.002z"}})])]),a("g"),a("g"),a("g"),a("g"),a("g"),a("g"),a("g"),a("g"),a("g"),a("g"),a("g"),a("g"),a("g"),a("g"),a("g")]),a("div",{staticClass:"absolute flex w-full justify-center z-30 top-4 "},[a("nav-item-movie",{staticClass:"mr-4",attrs:{name:"О фильме",status:0===t.detailPage},nativeOn:{click:function(e){t.detailPage=0,t.mute=!0}}}),"tv"===t.$route.name?a("nav-item-movie",{staticClass:"mr-4",attrs:{name:"Сезоны и серии",status:1===t.detailPage},nativeOn:{click:function(e){t.detailPage=1,t.mute=!0}}}):t._e(),a("nav-item-movie",{attrs:{name:"Детали",status:2===t.detailPage},nativeOn:{click:function(e){t.detailPage=2}}})],1),a("div",{staticClass:"ft z-10"}),0===t.detailPage?a("div",{staticClass:"absolute top-8 left-0 z-20 h-full w-2/4 p-12"},[a("div",{staticClass:"flex  items-center"},[a("img",{staticClass:"w-40 rounded",attrs:{src:"https://image.tmdb.org/t/p/w300"+t.movie.poster_path,alt:""}}),a("div",{staticClass:" text-white ml-5 fans-serif text-left"},[a("p",{staticClass:"whitespace-pre-line font-bold text-3xl mb-3"},[t._v(" "+t._s(t.movie.title||t.movie.name)+" ")]),a("div",{staticClass:"text-gray-400\tw-96"},[a("span",{staticClass:"mr-2",class:t.movieStatus(t.movie.vote_average)},[t._v(t._s(t.movie.vote_average.toFixed(1)))]),a("span",[t._v(t._s("movie"!==t.$route.name?t.movie.first_air_date.split("-")[0]:t.movie.release_date.split("-")[0]))]),t._l(t.movie.genres.slice(0,2),(function(e){return a("span",{key:e.id},[t._v(" "+t._s(e.name)+" ")])})),a("span",[t._v(t._s("movie"===t.$route.name?t.checkRun(t.movie.runtime):t.movie.seasons.length+" сезонов"))])],2)])]),a("div",{staticClass:"text-overview font-sans mt-5 leading-6 text-left"},[t._v(" "+t._s(t.movie.overview.split(" ").splice(0,30).join(" "))+"... ")]),a("div",{staticClass:"flex"},[a("button",{staticClass:"bg-button-play text-white p-3 rounded items-center flex mt-3"},[a("img",{staticClass:"w-4 inline mr-2",attrs:{src:n("5830"),alt:""}}),t._v("Смотреть фильм ")]),a("button",{staticClass:"bg-content-bg flex  mt-3 items-center justify-center px-4 py-2 ml-2 rounded",on:{click:function(e){return t.addOrDelete()}}},[a("svg",{style:t.inList?"fill: #fff":"fill: inherit; stroke: white",attrs:{width:"18px",height:"18px",fill:"#fff",viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","data-tid":"43a72e14 1fd01d7e","data-tid-prop":"1fd01d7e"}},[a("path",{attrs:{d:"M4 2h10v14l-5-3-5 3z"}})])])])]):t._e(),a("transition",{attrs:{name:"slide-fade"}},[1===t.detailPage?a("seasons",{staticClass:"absolute top-20 left-0 z-30",attrs:{data:t.movie}}):t._e()],1),a("transition",{attrs:{name:"slide-fade"}},[2===t.detailPage?a("Details",{staticClass:"absolute top-20 left-0 z-30",attrs:{data:t.movie}}):t._e()],1),t.video&&0===t.detailPage?a("div",{staticClass:"absolute right-10 bottom-5 bg-gray-500 p-3 rounded-full w-12",on:{click:t.muteOrUnmute}},[t.mute?a("img",{attrs:{src:n("765c"),alt:""}}):a("img",{attrs:{src:n("8913"),alt:""}})]):t._e()],1)},Dt=[],Gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex items-center font-sans font-medium py-2 px-8 rounded-3xl select-none hover:text-gray-100",class:t.status?"bg-gray-900 text-gray-100 transition duration 800":" text-gray-200"},[t._v(" "+t._s(t.name)+" ")])},Zt=[],Bt={name:"nav-item-movie",props:{name:String,status:Boolean}},Ft=Bt,Wt=Object(p["a"])(Ft,Gt,Zt,!1,null,"9bf17ade",null),qt=Wt.exports,Jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"px-12 flex"},[n("div",{staticClass:"w-1/2 text-left"},[n("img",{staticClass:"w-28 rounded",attrs:{src:"https://image.tmdb.org/t/p/w300"+t.data.poster_path,alt:""}}),n("div",{staticClass:"mt-8"},[n("span",{staticClass:"p-2",class:t.movieStatus(t.data.vote_average)},[t._v(t._s(t.data.vote_average.toFixed(1)))]),n("p",{staticClass:"mt-2 text-gray-500 text-sm"},[t._v(t._s(t.data.vote_count)+" оценок")])]),n("div",{staticClass:"text-overview font-sans mt-2 leading-6 text-left"},[t._v(" "+t._s(t.data.overview)+" ")])]),n("div",{staticClass:"px-32 flex justify-between mt-5 text-gray-100 text-sm text-left"},[n("div",{staticClass:"mr-10"},[n("p",{staticClass:"text-gray-300 text-xs font-medium mb-2"},[t._v("В главных ролях")]),t._l(t.getActors(),(function(e){return n("p",{key:e.id},[t._v(t._s(e.name))])})),t.getDirector()?n("p",{staticClass:"text-gray-300 text-xs font-medium mb-2 mt-6"},[t._v("Режиссеры")]):t._e(),t.getDirector()?n("p",[t._v(t._s(t.getDirector().name))]):t._e()],2),n("div",{},[n("p",{staticClass:"text-gray-300 text-xs  font-medium mb-3"},[t._v("Аудиодорожки")]),n("p",[t._v("Русский")]),n("p",[t._v("Английский")]),n("p",{staticClass:"text-gray-300 text-xs font-medium mb-2 mt-6"},[t._v("Субтитры")]),n("p",[t._v("Русский")]),n("p",[t._v("Английский")]),n("p",{staticClass:"text-gray-300 text-xs font-medium mb-2 mt-6"},[t._v("Оригинальное название")]),n("p",[t._v(t._s(t.data.original_title||t.data.original_name))])])])])},Qt=[],Kt=(n("7db0"),n("fb6a"),{name:"details",props:{data:Object},mixins:[q],data:function(){return{}},watch:{},methods:{getDirector:function(){return this.data.credits.crew.find((function(t){return"Director"===t.job}))},getActors:function(){return this.data.credits.cast.slice(0,10)}}}),Xt=Kt,te=Object(p["a"])(Xt,Jt,Qt,!1,null,"91afa6f6",null),ee=te.exports,ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"px-12 text-gray-200 w-full"},[n("div",[n("img",{staticClass:"w-28 rounded",attrs:{src:"https://image.tmdb.org/t/p/w300"+t.data.poster_path,alt:""}})]),n("div",{staticClass:"inform text-left mt-4 font-medium"},[n("span",{staticClass:"mr-4"},[t._v("Сезон")]),t._l(t.data.seasons,(function(e){return n("span",{key:e.id,class:t.season===e.season_number?"bg-gray-600":"",on:{click:function(n){t.season=e.season_number}}},[t._v(t._s(e.season_number))])}))],2),n("serial",{staticClass:"mt-5 h-20v",attrs:{season:t.season,id:t.data.id}})],1)},ae=[],re=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("splide",{attrs:{slides:t.movie.episodes,options:t.options}},t._l(t.movie.episodes,(function(t,e){return n("splide-slide",{key:t.id,staticClass:"mx-5 px-2"},[n("tv-episode",{attrs:{item:t,id:e+1}})],1)})),1)],1)},se=[],ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-left item"},[n("img",{staticClass:"splide__slide rounded",attrs:{src:"https://image.tmdb.org/t/p/w500"+t.item.still_path,alt:""}}),n("p",{staticClass:"mt-1"},[t._v(t._s(t.id)+". "+t._s(t.item.name))]),n("p",{staticClass:"text-xs text-gray-400"},[t._v(t._s(t.item.overview.split(" ").slice(0,25).join(" "))+"...")])])},oe=[],ce={name:"tv-episode",props:{item:Object,id:Number},mounted:function(){console.log(this.item)}},ue=ce,le=(n("6ef2"),Object(p["a"])(ue,ie,oe,!1,null,"3a18cb36",null)),de=le.exports,me={name:"series",components:{tvEpisode:de},data:function(){return{options:{rewind:!0,perPage:4,gap:"1.1rem",pagination:!1,lazyload:!0},movie:[]}},props:{season:Number,id:Number},watch:{season:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("tv/getTVSeason",{id:t.id,season_number:t.season});case 2:t.movie=e.sent;case 3:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.season),e.next=3,t.$store.dispatch("tv/getTVSeason",{id:t.id,season_number:t.season});case 3:t.movie=e.sent;case 4:case"end":return e.stop()}}),e)})))()}},pe=me,ve=Object(p["a"])(pe,re,se,!1,null,"3a593fe6",null),ge=ve.exports,fe={name:"seasons",data:function(){return{season:1,add:0}},props:{data:Object},mounted:function(){console.log(this.data)},components:{serial:ge}},he=fe,we=(n("b78a"),Object(p["a"])(he,ne,ae,!1,null,"1938c648",null)),be=we.exports,xe={name:"movie",components:{YoutubeVue:W,navItemMovie:qt,Details:ee,seasons:be},data:function(){return{movie:{},text:"some",video:null,mute:!0,inList:null,titlePage:null,detailPage:0}},computed:{getParams:function(){var t=this.$route.params.id.toString();return t.split("-")}},watch:{$route:function(t,e){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t===e){a.next=4;break}return a.next=3,n.getData();case 3:n.detailPage=0;case 4:case"end":return a.stop()}}),a)})))()}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t,e.next=3,t.getData();case 3:return e.next=5,t.$store.dispatch("list/GET_WATCHLIST");case 5:a="movie"===t.$route.name?"listMovie":"listTV",t.inList=t.$store.getters["list/inList"](+t.getParams[0],a),n.$emit("updateHead");case 8:case"end":return e.stop()}}),e)})))()},methods:{getData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.$route.name,e.next=3,t.$store.dispatch("movies/getMovie",{id:t.getParams[0],type:n});case 3:return t.movie=e.sent,e.next=6,t.$store.dispatch("movies/getMovieVideo",{id:t.getParams[0],type:n});case 6:t.video=e.sent,t.titlePage=t.movie.title;case 8:case"end":return e.stop()}}),e)})))()},addOrDelete:function(){var t=this,e="movie"===this.$route.name?"listMovie":"listTV",n=this.inList?"delete":"save";this.$store.dispatch("list/CHANGE_WATCHLIST",{action:n,id:this.getParams[0],type:e}).then((function(e){return t.inList=e})),this.$store.dispatch("list/GET_WATCHLIST")},checkRun:function(t){return"".concat(Math.floor(t/60)," час ").concat(t%60," минут")},muteOrUnmute:function(){this.mute?this.$refs.youtube.player.mute():this.$refs.youtube.player.unMute(),this.mute=!this.mute},changeDetail:function(){},movieStatus:function(t){var e="p-1 rounded text-gray-100";return t>=8?e+" bg-green-600":t>=6&&t<8?e+" bg-yellow-600":t>=5&&t<6?e+" bg-gray-600":t<5?e+" bg-red-600":void 0}}},_e=xe,ye=(n("b9e2"),Object(p["a"])(_e,zt,Dt,!1,null,"343158c9",null)),Ce=ye.exports,ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt-20 mx-12"},[n("router-view")],1)},Oe=[],Re={name:"categories"},$e=Re,Te=Object(p["a"])($e,ke,Oe,!1,null,"508ab2c3",null),Pe=Te.exports,Ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-gray-300"},[t.$route.params.id.split("-")[1]?n("p",{staticClass:"text-white my-4 font-medium text-2xl"},[t._v(t._s(t.$route.params.id.split("-")[1].toUpperCase()))]):t._e(),n("div",{staticClass:"grid grid-columns"},t._l(t.data,(function(t){return n("movie",{key:t.id,staticClass:"block",attrs:{movie:t}})})),1)])},je=[],He=n("2909"),Se={name:"category",data:function(){return{data:null,page:1}},components:{movie:ot},computed:{params:function(){return this.$route.params.id.split("-")}},created:function(){window.addEventListener("scroll",this.loadMore)},destroyed:function(){window.removeEventListener("scroll",this.loadMore)},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.params,!(n.length>=3)){e.next=7;break}return e.next=4,t.$store.dispatch("movies/getMoviesWithGenre",{params:n[1],genreId:n[0]});case 4:t.data=e.sent,e.next=10;break;case 7:return e.next=9,t.$store.dispatch("movies/getMoviesWithGenre",{genreId:n[0]});case 9:t.data=e.sent;case 10:case"end":return e.stop()}}),e)})))()},methods:{loadMore:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.params,console.log("scrool",window.innerHeight+window.scrollY),console.log("document",document.body.offsetHeight),!(window.innerHeight+window.scrollY>=document.body.offsetHeight)){e.next=10;break}return t.page+=1,e.next=7,O.get("/movie/popular?".concat($,"&with_genres=").concat(n[0],"&page=").concat(t.page));case 7:r=e.sent,s=r.data,(a=t.data).push.apply(a,Object(He["a"])(s.results));case 10:case"end":return e.stop()}}),e)})))()}}},Le=Se,Me=(n("1ed9"),Object(p["a"])(Le,Ee,je,!1,null,"517ba59d",null)),Ve=Me.exports,Ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-gray-300 mt-24 px-14"},[n("div",{staticClass:"grid grid-columns"},[t._l(t.dataMovie,(function(t){return n("movie",{key:t.id,staticClass:"block",attrs:{movie:t}})})),t._l(t.dataTV,(function(t){return n("tv",{key:t.id,staticClass:"block",attrs:{tv:t}})}))],2)])},Ue=[],Ye={name:"list",data:function(){return{dataTV:null,dataMovie:null,page:1}},components:{movie:ot,tv:pt},computed:{params:function(){return this.$route.params.id.split("-")}},created:function(){window.addEventListener("scroll",this.loadMore)},destroyed:function(){window.removeEventListener("scroll",this.loadMore)},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.$store.state.auth.user,console.log(n),e.next=4,t.$store.dispatch("list/GET_WATCHLIST",n);case 4:return e.next=6,t.$store.dispatch("list/GET_MOVIES").then((function(e){t.dataMovie=e.listMovie,t.dataTV=e.listTV}));case 6:case"end":return e.stop()}}),e)})))()},methods:{loadMore:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.params,console.log("scrool",window.innerHeight+window.scrollY),console.log("document",document.body.offsetHeight),!(window.innerHeight+window.scrollY>=document.body.offsetHeight)){e.next=10;break}return e.next=6,O.get("/movie/popular?".concat($,"&with_genres=").concat(n[0],"&page=").concat(t.page));case 6:r=e.sent,s=r.data,t.page+=1,(a=t.data).push.apply(a,Object(He["a"])(s.results));case 10:case"end":return e.stop()}}),e)})))()}}},Ie=Ye,Ae=(n("df9b"),Object(p["a"])(Ie,Ne,Ue,!1,null,"5f816d19",null)),ze=Ae.exports;a["a"].use(V["a"]);var De=[{path:"/categories",name:"categories",component:Pe,children:[{path:":id",name:"category",component:Ve}]},{path:"/watchlist",name:"List",component:ze},{path:"/",name:"Home",component:At,children:[{path:":id",name:"movie",component:Ce},{path:"tv/:id",name:"tv",component:Ce}]}],Ge=new V["a"]({mode:"history",base:"/kino-hd/",routes:De}),Ze=Ge,Be=n("2f62"),Fe={namespaced:!0,state:{movies:{}},mutations:{SET_PROPERTY:function(t,e){t[e.key]=e.value}},actions:{getMovies:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O.get("/movie/".concat(e,"?").concat($));case 2:return n=t.sent,a=n.data,t.abrupt("return",a.results);case 5:case"end":return t.stop()}}),t)})))()},getMoviesWithGenre:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.params,a=e.genreId,!n){t.next=6;break}return t.next=4,O.get("/movie/".concat(n,"?").concat($,"&with_genres=").concat(a));case 4:return s=t.sent,t.abrupt("return",s.data.results);case 6:return t.next=8,O.get("/movie/popular?".concat($,"&with_genres=").concat(a));case 8:return r=t.sent,t.abrupt("return",r.data.results);case 10:case"end":return t.stop()}}),t)})))()},getMovie:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.id,a=e.type,t.next=3,O.get("/".concat(a,"/").concat(n,"?").concat($,"&append_to_response=credits"));case 3:return r=t.sent,s=r.data,t.abrupt("return",s);case 6:case"end":return t.stop()}}),t)})))()},getMovieVideo:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.id,a=e.type,t.next=3,O.get("/".concat(a,"/").concat(n,"/videos?").concat($));case 3:if(r=t.sent,s=r.data,s.results.length){t.next=7;break}return t.abrupt("return",null);case 7:return t.abrupt("return",s.results[0].key);case 8:case"end":return t.stop()}}),t)})))()}},getters:{getState:function(){}}},We={namespaced:!0,actions:{getTVs:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O.get("/tv/".concat(e,"?").concat($));case 2:return n=t.sent,a=n.data,t.abrupt("return",a.results);case 5:case"end":return t.stop()}}),t)})))()},getTV:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O.get("/tv/".concat(e,"?").concat($,"&append_to_response=credits"));case 2:return n=t.sent,a=n.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})))()},getTVSeason:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.id,a=e.season_number,t.next=3,O.get("/tv/".concat(n,"/season/").concat(a,"?").concat($,"&append_to_response=credits"));case 3:return r=t.sent,s=r.data,t.abrupt("return",s);case 6:case"end":return t.stop()}}),t)})))()},getTVVideo:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O.get("/tv/".concat(e,"/videos?").concat($));case 2:if(n=t.sent,a=n.data,a.results.length){t.next=6;break}return t.abrupt("return",null);case 6:return t.abrupt("return",a.results[0].key);case 7:case"end":return t.stop()}}),t)})))()}}},qe={namespaced:!0,actions:{getDataMovie:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.id,a=e.type,t.next=3,O.get("/movie/".concat(a,"?").concat($,"&with_genres=").concat(n));case 3:return r=t.sent,s=r.data,t.abrupt("return",s);case 6:case"end":return t.stop()}}),t)})))()},getDataTv:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.id,a=e.type,t.next=3,O.get("/tv/".concat(a,"?").concat($,"&with_genres=").concat(n));case 3:return r=t.sent,s=r.data,t.abrupt("return",s);case 6:case"end":return t.stop()}}),t)})))()}}},Je=n("5530"),Qe={namespaced:!0,state:{token:localStorage.getItem("user-token")||"",status:"",user:null,watchlist:{}},getters:{isAuthentificated:function(t){return!!t.token},authStatus:function(t){return t.status}},mutations:{AuthUser:function(t,e){l.a.defaults.headers.common["Authorization"]="Bearer ".concat(e.token)},SET_PROPERTY:function(t,e){t[e.key]=e.value}},actions:{AUTH_REQUEST:function(t,e){var n=t.commit,a=e.email,r=e.password;return new Promise((function(t,e){n("SET_PROPERTY",{key:"status",value:"loading"}),l.a.post("http://localhost:3000/api/v1/auth/login",{username:a,password:r}).then((function(e){var a=e.data.token;localStorage.setItem("user-token",a),n("SET_PROPERTY",{key:"status",value:"success"}),n("user/SET_PROPERTY",{key:"user",value:Object(Je["a"])({},e.data.user)}),l.a.defaults.headers.common["Authorization"]="Bearer ".concat(a),t(e)})).catch((function(t){n("SET_PROPERTY",{key:"status",value:"error"}),localStorage.removeItem("user-token"),e(t)}))}))},LOGOUT:function(t){var e=t.commit;return new Promise((function(t){e("SET_PROPERTY",{key:"status",value:""}),e("SET_PROPERTY",{key:"user",value:null}),localStorage.removeItem("user-token"),delete l.a.defaults.headers.common["Authorization"],t()}))},UPDATE:function(t,e){var n=t.commit;return new Promise((function(t,a){var r=l.a.post("http://localhost:3000/api/v1/users/update",Object(Je["a"])({},e)),s=r.data;n("SET_PROPERTY",{key:"user",value:Object(Je["a"])({},e)}),s&&t(s),a()}))}}},Ke={namespaced:!0,state:{user:{}},mutations:{SET_PROPERTY:function(t,e){t[e.key]=e.value}}},Xe=(n("4de4"),n("159b"),{namespaced:!0,state:{watchlist:null},getters:{inList:function(t){return function(e,n){return t.watchlist[n].indexOf(+e)>-1}}},mutations:{SET_PROPERTY:function(t,e){t[e.key]=e.value}},actions:{GET_WATCHLIST:function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,l.a.get("http://localhost:3000/api/v1/watchlist/");case 3:a=e.sent,r=a.data,n("SET_PROPERTY",{key:"watchlist",value:r});case 6:case"end":return e.stop()}}),e)})))()},CHANGE_WATCHLIST:function(t,e){var n=t.commit,a=t.state,r=e.action,s=e.type,i=e.id;return new Promise((function(t){var e=a.watchlist[s];"delete"===r?(l.a.delete("http://localhost:3000/api/v1/watchlist/".concat(i),{data:{type:s}}).then((function(){n("SET_PROPERTY",{key:"watchlist",value:e.filter((function(t){return t!==i}))})})),t(!1)):"save"===r&&(l.a.post("http://localhost:3000/api/v1/watchlist",{watch:i,type:s}).then((function(){n("SET_PROPERTY",{key:"watchlist[".concat(s,"]"),value:[].concat(Object(He["a"])(e),[i])})})),t(!0))}))},GET_MOVIES:function(t){var e=t.state;return new Promise((function(t){var n=e.watchlist["listMovie"],a=e.watchlist["listTV"],r=[],s=[];n.forEach(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O.get("/movie/".concat(e,"?").concat($));case 2:n=t.sent,a=n.data,console.log(a),r.push(a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),a.forEach(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,O.get("/tv/".concat(e,"?").concat($));case 2:n=t.sent,a=n.data,s.push(a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t({listMovie:r,listTV:s})}))}}});a["a"].use(Be["a"]);var tn=new Be["a"].Store({state:{},mutations:{},actions:{},modules:{movies:Fe,tv:We,categories:qe,auth:Qe,user:Ke,list:Xe}}),en=(n("ba8c"),n("5e2b")),nn=(n("e50d"),n("58ca"));a["a"].config.productionTip=!1,a["a"].use(en["a"]),a["a"].use(nn["a"]);var an=localStorage.getItem("user-token");an&&(l.a.defaults.headers.common["Authorization"]="Bearer ".concat(an)),new a["a"]({router:Ze,store:tn,render:function(t){return t(M)}}).$mount("#app")},5830:function(t,e,n){t.exports=n.p+"img/play.686e5853.svg"},"5c0b":function(t,e,n){"use strict";n("9c0c")},"69ab":function(t,e,n){"use strict";n("fc90")},"6ef2":function(t,e,n){"use strict";n("0695")},"765c":function(t,e,n){t.exports=n.p+"img/unmute.f5b737f8.svg"},8913:function(t,e,n){t.exports=n.p+"img/mute.bb2b3333.svg"},"8c63":function(t,e,n){},9084:function(t,e,n){},9269:function(t,e,n){},"998b":function(t,e,n){"use strict";n("8c63")},"9c0c":function(t,e,n){},a438:function(t,e,n){},a79b:function(t,e,n){"use strict";n("b552")},b552:function(t,e,n){},b78a:function(t,e,n){"use strict";n("9084")},b9e2:function(t,e,n){"use strict";n("9269")},ba8c:function(t,e,n){},df9b:function(t,e,n){"use strict";n("a438")},eb1a:function(t,e,n){},fc90:function(t,e,n){}});
//# sourceMappingURL=app.5bb37369.js.map